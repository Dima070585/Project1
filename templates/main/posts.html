{% extends 'base.html' %}
{% block title %}Home Page{% endblock %}
{% block content %}
    <div class="row">
        <div style="margin-left: 20px">
            <a class="btn btn-success" href="{% url 'create_post' %}" style="margin-left: 45px; margin-right: 45px">Create new</a>
        {% for category in categories %}
            <a class="btn btn-primary" href="{% url 'category_posts' category.id %}">{{ category.name }}</a>
        {% endfor %}

        <div class="col-8" style="margin: 0 auto; background: gainsboro">
            <h2 align="center" style="margin-top: 10px">Posts</h2>
            <hr class="own-hr">
            <div class="container mt-3 w-75">
                {% for post in posts %}
                    <div class="d-flex flex-column mb-3 align-items-center">
                        <h3 class="text-center"><a class="link-dark" href="{% url 'post_detail' post.id %}"
                                                   style="text-decoration: none;">{{ post.title }}</a></h3>
                        <div class="align-self-center p-2 bd-highlight">
                            <img style="width: 800px; height: 300px; object-fit: cover; padding-top: 15px; padding-bottom: 15px; margin-left: 30px;"
                                 src="{{ post.image.url }}">
                        </div>
                        <p class="w-75 mt-1">{{ post.content | truncatechars:150 | safe }}</p>
                        <div>
                            <a class="btn btn-danger" href="{% url 'post_delete' post.id %}">Delete</a>
                            <a class="btn btn-warning" href="{% url 'update_post' post.id %}">Update</a>
                            <a class="btn btn-info" href="{% url 'addtoshopcart' post.id %}">Add to cart</a>
                        </div>
                    </div>
                    <hr class="own-hr">
                {% endfor %}
        </div>
    </div>
</div>

    </div>
{% endblock %}